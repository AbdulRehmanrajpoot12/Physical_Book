"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[3135],{5874(n,r,e){e.r(r),e.d(r,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module-1/urdf-humanoids","title":"URDF for Humanoids: Describing Robot Structure","description":"Understanding Unified Robot Description Format (URDF) for describing humanoid robot structures and connecting AI logic to robot hardware","source":"@site/docs/module-1/urdf-humanoids.md","sourceDirName":"module-1","slug":"/module-1/urdf-humanoids","permalink":"/Physical_Book/docs/module-1/urdf-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/AbdulRehmanrajpoot12/Physical_Book/edit/main/docs/module-1/urdf-humanoids.md","tags":[],"version":"current","frontMatter":{"title":"URDF for Humanoids: Describing Robot Structure","sidebar_label":"URDF for Humanoids","description":"Understanding Unified Robot Description Format (URDF) for describing humanoid robot structures and connecting AI logic to robot hardware","slug":"/module-1/urdf-humanoids"},"sidebar":"tutorialSidebar","previous":{"title":"Python Agents & rclpy","permalink":"/Physical_Book/docs/module-1/python-agents-rclpy"},"next":{"title":"Module 2: The Digital Twin (Gazebo & Unity)","permalink":"/Physical_Book/docs/"}}');var t=e(4848),o=e(8453);const a={title:"URDF for Humanoids: Describing Robot Structure",sidebar_label:"URDF for Humanoids",description:"Understanding Unified Robot Description Format (URDF) for describing humanoid robot structures and connecting AI logic to robot hardware",slug:"/module-1/urdf-humanoids"},s="URDF for Humanoids: Describing Robot Structure",l={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to URDF",id:"introduction-to-urdf",level:2},{value:"URDF Fundamentals",id:"urdf-fundamentals",level:2},{value:"Links",id:"links",level:3},{value:"Joints",id:"joints",level:3},{value:"Humanoid Structure: Links and Joints",id:"humanoid-structure-links-and-joints",level:2},{value:"Body Structure",id:"body-structure",level:3},{value:"Example Humanoid URDF Structure",id:"example-humanoid-urdf-structure",level:3},{value:"Connecting AI Logic to ROS Nodes",id:"connecting-ai-logic-to-ros-nodes",level:2},{value:"Using URDF with Python AI Agents",id:"using-urdf-with-python-ai-agents",level:3},{value:"Mapping AI Logic to ROS Nodes",id:"mapping-ai-logic-to-ros-nodes",level:2},{value:"The Bridge Between AI and Hardware",id:"the-bridge-between-ai-and-hardware",level:3},{value:"Example: Safe Movement Planning",id:"example-safe-movement-planning",level:3},{value:"URDF Examples for Humanoid Robots",id:"urdf-examples-for-humanoid-robots",level:2},{value:"Advanced URDF Features",id:"advanced-urdf-features",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2}];function m(n){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"urdf-for-humanoids-describing-robot-structure",children:"URDF for Humanoids: Describing Robot Structure"})}),"\n",(0,t.jsx)(r.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(r.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Understand the fundamentals of Unified Robot Description Format (URDF)"}),"\n",(0,t.jsx)(r.li,{children:"Create URDF files for humanoid robot structures"}),"\n",(0,t.jsx)(r.li,{children:"Define links and joints for humanoid robots"}),"\n",(0,t.jsx)(r.li,{children:"Connect AI agents with robot descriptions using URDF"}),"\n",(0,t.jsx)(r.li,{children:"Apply URDF concepts to physical AI and humanoid robotics"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"introduction-to-urdf",children:"Introduction to URDF"}),"\n",(0,t.jsx)(r.p,{children:"Unified Robot Description Format (URDF) is an XML-based format used in ROS to describe robot models. It defines the physical and visual properties of a robot, including its links (rigid bodies), joints (connections between links), and other properties like inertia, visual representation, and collision properties."}),"\n",(0,t.jsx)(r.p,{children:"URDF is fundamental to robotics simulation, visualization, and control. For humanoid robots, URDF provides the essential bridge between AI algorithms and the physical robot structure."}),"\n",(0,t.jsx)(r.h2,{id:"urdf-fundamentals",children:"URDF Fundamentals"}),"\n",(0,t.jsx)(r.h3,{id:"links",children:"Links"}),"\n",(0,t.jsx)(r.p,{children:"Links represent rigid bodies in a robot. Each link has:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Physical properties (mass, inertia)"}),"\n",(0,t.jsx)(r.li,{children:"Visual properties (geometry, material, color)"}),"\n",(0,t.jsx)(r.li,{children:"Collision properties (collision geometry)"}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"Basic link structure:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-xml",children:'<link name="link_name">\r\n  <inertial>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <mass value="1.0"/>\r\n    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\r\n  </inertial>\r\n  <visual>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="1 1 1"/>\r\n    </geometry>\r\n    <material name="blue">\r\n      <color rgba="0 0 0.8 1"/>\r\n    </material>\r\n  </visual>\r\n  <collision>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="1 1 1"/>\r\n    </geometry>\r\n  </collision>\r\n</link>\n'})}),"\n",(0,t.jsx)(r.h3,{id:"joints",children:"Joints"}),"\n",(0,t.jsx)(r.p,{children:"Joints connect links and define how they can move relative to each other. Common joint types:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"fixed"}),": No movement between links"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"revolute"}),": Rotational movement around an axis"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"continuous"}),": Continuous rotational movement"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"prismatic"}),": Linear sliding movement"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"floating"}),": 6-DOF movement"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"planar"}),": Movement in a plane"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"Basic joint structure:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-xml",children:'<joint name="joint_name" type="revolute">\r\n  <parent link="parent_link_name"/>\r\n  <child link="child_link_name"/>\r\n  <origin xyz="0 0 0" rpy="0 0 0"/>\r\n  <axis xyz="0 0 1"/>\r\n  <limit lower="-1.57" upper="1.57" effort="100" velocity="1"/>\r\n</joint>\n'})}),"\n",(0,t.jsx)(r.h2,{id:"humanoid-structure-links-and-joints",children:"Humanoid Structure: Links and Joints"}),"\n",(0,t.jsx)(r.p,{children:"Humanoid robots require specific link and joint configurations to mimic human-like movement. A typical humanoid structure includes:"}),"\n",(0,t.jsx)(r.h3,{id:"body-structure",children:"Body Structure"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"base_link"}),": The main body/chest of the robot"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"head"}),": Connected via neck joint"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"left_arm"}),": Shoulder, elbow, wrist joints"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"right_arm"}),": Shoulder, elbow, wrist joints"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"left_leg"}),": Hip, knee, ankle joints"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"right_leg"}),": Hip, knee, ankle joints"]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"example-humanoid-urdf-structure",children:"Example Humanoid URDF Structure"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_humanoid">\r\n  \x3c!-- Base Link --\x3e\r\n  <link name="base_link">\r\n    <inertial>\r\n      <mass value="10.0"/>\r\n      <origin xyz="0 0 0"/>\r\n      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 0.5"/>\r\n      <geometry>\r\n        <box size="0.3 0.3 1.0"/>\r\n      </geometry>\r\n      <material name="grey">\r\n        <color rgba="0.5 0.5 0.5 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.5"/>\r\n      <geometry>\r\n        <box size="0.3 0.3 1.0"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <link name="head">\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <origin xyz="0 0 0"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 0"/>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n      <material name="white">\r\n        <color rgba="1.0 1.0 1.0 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0"/>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="neck_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 1.0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-0.5" upper="0.5" effort="10" velocity="1"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Arm --\x3e\r\n  <link name="left_upper_arm">\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="0.8 0.2 0.2 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_shoulder_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.15 0 0.7"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="left_lower_arm">\r\n    <inertial>\r\n      <mass value="0.8"/>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.04"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="0.8 0.2 0.2 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.04"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_elbow_joint" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_lower_arm"/>\r\n    <origin xyz="0 0 -0.3"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right Arm (similar structure) --\x3e\r\n  <link name="right_upper_arm">\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="0.8 0.2 0.2 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_shoulder_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="right_upper_arm"/>\r\n    <origin xyz="-0.15 0 0.7"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="right_lower_arm">\r\n    <inertial>\r\n      <mass value="0.8"/>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.04"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="0.8 0.2 0.2 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.04"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_elbow_joint" type="revolute">\r\n    <parent link="right_upper_arm"/>\r\n    <child link="right_lower_arm"/>\r\n    <origin xyz="0 0 -0.3"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Leg --\x3e\r\n  <link name="left_upper_leg">\r\n    <inertial>\r\n      <mass value="1.5"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.06"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0.2 0.2 0.8 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.06"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_hip_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="left_upper_leg"/>\r\n    <origin xyz="0.07 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="20" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="left_lower_leg">\r\n    <inertial>\r\n      <mass value="1.2"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.05"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0.2 0.2 0.8 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_knee_joint" type="revolute">\r\n    <parent link="left_upper_leg"/>\r\n    <child link="left_lower_leg"/>\r\n    <origin xyz="0 0 -0.5"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="1.57" effort="20" velocity="1"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right Leg --\x3e\r\n  <link name="right_upper_leg">\r\n    <inertial>\r\n      <mass value="1.5"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.06"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0.2 0.2 0.8 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.06"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_hip_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="right_upper_leg"/>\r\n    <origin xyz="-0.07 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="20" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="right_lower_leg">\r\n    <inertial>\r\n      <mass value="1.2"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.05"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0.2 0.2 0.8 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <cylinder length="0.5" radius="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_knee_joint" type="revolute">\r\n    <parent link="right_upper_leg"/>\r\n    <child link="right_lower_leg"/>\r\n    <origin xyz="0 0 -0.5"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="1.57" effort="20" velocity="1"/>\r\n  </joint>\r\n</robot>\n'})}),"\n",(0,t.jsx)(r.h2,{id:"connecting-ai-logic-to-ros-nodes",children:"Connecting AI Logic to ROS Nodes"}),"\n",(0,t.jsx)(r.h3,{id:"using-urdf-with-python-ai-agents",children:"Using URDF with Python AI Agents"}),"\n",(0,t.jsx)(r.p,{children:"AI agents can access robot structure information through URDF to understand the robot's capabilities and constraints:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nfrom tf2_ros import TransformListener\r\nfrom geometry_msgs.msg import TransformStamped\r\nimport xml.etree.ElementTree as ET\r\n\r\nclass AIWithURDFNode(Node):\r\n    def __init__(self):\r\n        super().__init__('ai_with_urdf_node')\r\n\r\n        # Subscribe to joint states\r\n        self.joint_state_subscriber = self.create_subscription(\r\n            JointState,\r\n            'joint_states',\r\n            self.joint_state_callback,\r\n            10\r\n        )\r\n\r\n        # Access URDF information\r\n        self.urdf_string = self.get_parameter_or_set_default('robot_description', '')\r\n        if self.urdf_string:\r\n            self.parse_urdf()\r\n\r\n        # Timer for AI processing\r\n        self.ai_timer = self.create_timer(0.1, self.ai_processing_callback)\r\n\r\n        # Store joint information from URDF\r\n        self.joint_limits = {}\r\n        self.link_masses = {}\r\n\r\n    def get_parameter_or_set_default(self, param_name, default_value):\r\n        \"\"\"Helper to get parameter with default\"\"\"\r\n        self.declare_parameter(param_name, default_value)\r\n        return self.get_parameter(param_name).value\r\n\r\n    def parse_urdf(self):\r\n        \"\"\"Parse URDF to extract joint limits and link properties\"\"\"\r\n        try:\r\n            root = ET.fromstring(self.urdf_string)\r\n\r\n            # Extract joint information\r\n            for joint in root.findall('joint'):\r\n                joint_name = joint.get('name')\r\n                joint_type = joint.get('type')\r\n\r\n                if joint_type in ['revolute', 'prismatic']:\r\n                    limit = joint.find('limit')\r\n                    if limit is not None:\r\n                        self.joint_limits[joint_name] = {\r\n                            'lower': float(limit.get('lower', -3.14)),\r\n                            'upper': float(limit.get('upper', 3.14)),\r\n                            'effort': float(limit.get('effort', 10.0)),\r\n                            'velocity': float(limit.get('velocity', 1.0))\r\n                        }\r\n\r\n            # Extract link information\r\n            for link in root.findall('link'):\r\n                link_name = link.get('name')\r\n                inertial = link.find('inertial')\r\n                if inertial is not None:\r\n                    mass = inertial.find('mass')\r\n                    if mass is not None:\r\n                        self.link_masses[link_name] = float(mass.get('value', 1.0))\r\n\r\n            self.get_logger().info(f'Parsed URDF: {len(self.joint_limits)} joints, {len(self.link_masses)} links')\r\n\r\n        except Exception as e:\r\n            self.get_logger().error(f'Error parsing URDF: {e}')\r\n\r\n    def joint_state_callback(self, msg):\r\n        \"\"\"Process joint state information\"\"\"\r\n        for i, name in enumerate(msg.name):\r\n            if name in self.joint_limits:\r\n                # Check if joint is within limits\r\n                position = msg.position[i]\r\n                limits = self.joint_limits[name]\r\n\r\n                if not (limits['lower'] <= position <= limits['upper']):\r\n                    self.get_logger().warn(f'Joint {name} out of limits: {position}')\r\n\r\n    def ai_processing_callback(self):\r\n        \"\"\"Main AI processing logic using URDF information\"\"\"\r\n        # Example: Use URDF information to make decisions\r\n        # Check if any joints are near their limits\r\n        for joint_name, limits in self.joint_limits.items():\r\n            # AI logic could use URDF information to plan movements\r\n            # that respect joint limits and physical constraints\r\n            pass\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    ai_node = AIWithURDFNode()\r\n    rclpy.spin(ai_node)\r\n    ai_node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"mapping-ai-logic-to-ros-nodes",children:"Mapping AI Logic to ROS Nodes"}),"\n",(0,t.jsx)(r.h3,{id:"the-bridge-between-ai-and-hardware",children:"The Bridge Between AI and Hardware"}),"\n",(0,t.jsx)(r.p,{children:"In humanoid robotics, AI agents need to understand the robot's physical structure to make informed decisions. The connection between AI logic and robot hardware involves:"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"URDF Parsing"}),": AI agents can parse URDF to understand the robot's kinematic structure"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Joint State Monitoring"}),": Using joint state information to track the robot's current configuration"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Inverse Kinematics"}),": Using the kinematic chain defined in URDF to calculate joint angles for desired end-effector positions"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Safety Constraints"}),": Respecting joint limits and physical constraints defined in URDF"]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"example-safe-movement-planning",children:"Example: Safe Movement Planning"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"class SafeMovementPlanner(Node):\r\n    def __init__(self):\r\n        super().__init__('safe_movement_planner')\r\n\r\n        # Publisher for joint commands\r\n        self.joint_command_publisher = self.create_publisher(\r\n            JointState,\r\n            'joint_commands',\r\n            10\r\n        )\r\n\r\n        # Access robot description\r\n        self.urdf_string = self.get_parameter_or_set_default('robot_description', '')\r\n        if self.urdf_string:\r\n            self.parse_urdf_for_constraints()\r\n\r\n        # Timer for planning\r\n        self.planning_timer = self.create_timer(0.1, self.planning_callback)\r\n\r\n    def get_parameter_or_set_default(self, param_name, default_value):\r\n        \"\"\"Helper to get parameter with default\"\"\"\r\n        self.declare_parameter(param_name, default_value)\r\n        return self.get_parameter(param_name).value\r\n\r\n    def parse_urdf_for_constraints(self):\r\n        \"\"\"Parse URDF specifically for safety constraints\"\"\"\r\n        try:\r\n            root = ET.fromstring(self.urdf_string)\r\n            self.joint_constraints = {}\r\n\r\n            for joint in root.findall('joint'):\r\n                joint_name = joint.get('name')\r\n                joint_type = joint.get('type')\r\n\r\n                if joint_type in ['revolute', 'prismatic']:\r\n                    limit = joint.find('limit')\r\n                    if limit is not None:\r\n                        self.joint_constraints[joint_name] = {\r\n                            'lower': float(limit.get('lower', -3.14)),\r\n                            'upper': float(limit.get('upper', 3.14)),\r\n                            'effort': float(limit.get('effort', 10.0)),\r\n                            'velocity': float(limit.get('velocity', 1.0))\r\n                        }\r\n\r\n            self.get_logger().info('Loaded safety constraints from URDF')\r\n\r\n        except Exception as e:\r\n            self.get_logger().error(f'Error parsing URDF for constraints: {e}')\r\n\r\n    def validate_joint_commands(self, joint_state_msg):\r\n        \"\"\"Validate joint commands against URDF constraints\"\"\"\r\n        valid_commands = JointState()\r\n        valid_commands.name = []\r\n        valid_commands.position = []\r\n        valid_commands.velocity = []\r\n        valid_commands.effort = []\r\n\r\n        for i, name in enumerate(joint_state_msg.name):\r\n            if name in self.joint_constraints:\r\n                constraints = self.joint_constraints[name]\r\n                pos = joint_state_msg.position[i]\r\n\r\n                # Clamp position to limits with safety margin\r\n                safety_margin = 0.1  # 10% safety margin\r\n                lower_safe = constraints['lower'] + safety_margin\r\n                upper_safe = constraints['upper'] - safety_margin\r\n\r\n                clamped_pos = max(lower_safe, min(upper_safe, pos))\r\n\r\n                valid_commands.name.append(name)\r\n                valid_commands.position.append(clamped_pos)\r\n\r\n                # Also validate velocity and effort if provided\r\n                if i < len(joint_state_msg.velocity):\r\n                    vel = joint_state_msg.velocity[i]\r\n                    max_vel = constraints['velocity']\r\n                    clamped_vel = max(-max_vel, min(max_vel, vel))\r\n                    valid_commands.velocity.append(clamped_vel)\r\n                else:\r\n                    valid_commands.velocity.append(0.0)\r\n\r\n                if i < len(joint_state_msg.effort):\r\n                    eff = joint_state_msg.effort[i]\r\n                    max_eff = constraints['effort']\r\n                    clamped_eff = max(-max_eff, min(max_eff, eff))\r\n                    valid_commands.effort.append(clamped_eff)\r\n                else:\r\n                    valid_commands.effort.append(0.0)\r\n            else:\r\n                # If joint not in constraints, pass through (might be a sensor joint)\r\n                valid_commands.name.append(name)\r\n                if i < len(joint_state_msg.position):\r\n                    valid_commands.position.append(joint_state_msg.position[i])\r\n                else:\r\n                    valid_commands.position.append(0.0)\r\n\r\n                if i < len(joint_state_msg.velocity):\r\n                    valid_commands.velocity.append(joint_state_msg.velocity[i])\r\n                else:\r\n                    valid_commands.velocity.append(0.0)\r\n\r\n                if i < len(joint_state_msg.effort):\r\n                    valid_commands.effort.append(joint_state_msg.effort[i])\r\n                else:\r\n                    valid_commands.effort.append(0.0)\r\n\r\n        return valid_commands\r\n\r\n    def planning_callback(self):\r\n        \"\"\"Main planning logic with safety validation\"\"\"\r\n        # Example: Generate some joint commands\r\n        desired_joints = JointState()\r\n        desired_joints.name = ['left_shoulder_joint', 'right_shoulder_joint']\r\n        desired_joints.position = [0.5, -0.5]  # Some desired positions\r\n        desired_joints.velocity = [0.1, 0.1]   # Desired velocities\r\n        desired_joints.effort = [5.0, 5.0]     # Desired efforts\r\n\r\n        # Validate commands against URDF constraints\r\n        safe_commands = self.validate_joint_commands(desired_joints)\r\n\r\n        # Publish safe commands\r\n        self.joint_command_publisher.publish(safe_commands)\r\n        self.get_logger().info('Published safe joint commands')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    planner_node = SafeMovementPlanner()\r\n    rclpy.spin(planner_node)\r\n    planner_node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"urdf-examples-for-humanoid-robots",children:"URDF Examples for Humanoid Robots"}),"\n",(0,t.jsx)(r.h3,{id:"advanced-urdf-features",children:"Advanced URDF Features"}),"\n",(0,t.jsx)(r.p,{children:"For humanoid robots, URDF can include additional features:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Transmission elements"}),": Define how actuators connect to joints"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Gazebo plugins"}),": Simulation-specific properties"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Materials and colors"}),": Visual properties for simulation and visualization"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-xml",children:'\x3c!-- Example with transmission --\x3e\r\n<transmission name="left_shoulder_trans">\r\n  <type>transmission_interface/SimpleTransmission</type>\r\n  <joint name="left_shoulder_joint">\r\n    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\r\n  </joint>\r\n  <actuator name="left_shoulder_motor">\r\n    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\r\n    <mechanicalReduction>1</mechanicalReduction>\r\n  </actuator>\r\n</transmission>\r\n\r\n\x3c!-- Gazebo-specific properties --\x3e\r\n<gazebo reference="base_link">\r\n  <material>Gazebo/Grey</material>\r\n  <mu1>0.2</mu1>\r\n  <mu2>0.2</mu2>\r\n</gazebo>\n'})}),"\n",(0,t.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(r.p,{children:"URDF is the fundamental format for describing robot structures in ROS, making it essential for humanoid robotics. By defining links and joints with appropriate physical properties, URDF enables simulation, visualization, and control of humanoid robots. AI agents can leverage URDF information to understand the robot's kinematic structure, respect physical constraints, and generate safe movements."}),"\n",(0,t.jsx)(r.p,{children:"The connection between AI logic and robot hardware through URDF is crucial for developing intelligent humanoid robots that can safely interact with their environment. Understanding URDF fundamentals is key to bridging the gap between high-level AI algorithms and low-level robot control."}),"\n",(0,t.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Review ",(0,t.jsx)(r.a,{href:"/Physical_Book/docs/module-1/ros2-basics",children:"ROS 2 Basics"})," for fundamental ROS 2 concepts"]}),"\n",(0,t.jsxs)(r.li,{children:["Explore ",(0,t.jsx)(r.a,{href:"/Physical_Book/docs/module-1/python-agents-rclpy",children:"Python Agents & rclpy"})," to understand Python integration"]}),"\n"]})]})}function c(n={}){const{wrapper:r}={...(0,o.R)(),...n.components};return r?(0,t.jsx)(r,{...n,children:(0,t.jsx)(m,{...n})}):m(n)}},8453(n,r,e){e.d(r,{R:()=>a,x:()=>s});var i=e(6540);const t={},o=i.createContext(t);function a(n){const r=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function s(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),i.createElement(o.Provider,{value:r},n.children)}}}]);